<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【你的名字】- 个人简历</title>
    <!-- 引入免费样式库，保证页面美观 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /* 简单样式，适配简历场景，无需修改 */
        body {
            font-family: "Microsoft YaHei", sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .profile-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .chat-box {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .user-message {
            background-color: #007bff;
            color: white;
            text-align: right;
        }
        .ai-message {
            background-color: #e9ecef;
            color: black;
        }
    </style>
</head>
<body>
    <!-- 个人简介部分【需要你修改】 -->
    <div class="profile-card">
        <h1>【你的名字】</h1>
        <h5>【你的求职意向/个人标签】</h5>
        <hr>
        <div class="row">
            <div class="col-md-6">
                <h6>基本信息</h6>
                <p>电话：【你的手机号】</p>
                <p>邮箱：【你的邮箱】</p>
                <p>学历：【你的学历】</p>
            </div>
            <div class="col-md-6">
                <h6>个人简介</h6>
                <p>【写1-2句简短的个人介绍，比如“擅长文案创作，具备3年新媒体运营经验，熟悉内容策划与用户增长”】</p>
            </div>
        </div>
        <hr>
        <h6>教育背景</h6>
        <p>【时间】-【时间】 【学校名称】 【专业】 【学历】</p>
        <h6>工作/实习经历</h6>
        <p>【时间】-【时间】 【公司名称】 【岗位】 【主要职责/成果】</p>
    </div>

    <!-- 大模型对话部分（无需修改核心逻辑，仅改API密钥） -->
    <div class="chat-box">
        <h3>智能问答</h3>
        <div id="chat-history" style="height: 300px; overflow-y: auto; margin: 20px 0; border: 1px solid #eee; padding: 10px;"></div>
        <div class="input-group">
            <input type="text" id="user-input" class="form-control" placeholder="输入你想提问的问题...">
            <button class="btn btn-primary" onclick="sendMessage()">发送</button>
        </div>
    </div>

    <!-- 引入JS库，实现大模型接口调用 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        // 【需要你修改】替换成讯飞星火的API密钥（从讯飞开放平台获取）
        const APPID = "49e5008b";
        const APISecret = "ODY4OGNkYTE4MGIwOTQ5NTBlZDhjN2Vh";
        const APIKey = "071fdbf0afa2b20f7445bc0f1bde9ef3";

        // 发送消息到大模型
        async function sendMessage() {
            const input = document.getElementById('user-input').value.trim();
            if (!input) return;

            // 显示用户消息
            const chatHistory = document.getElementById('chat-history');
            chatHistory.innerHTML += `<div class="message user-message">${input}</div>`;
            document.getElementById('user-input').value = "";

            // 调用讯飞星火API
            try {
                // 获取接口鉴权参数（无需修改）
                const timestamp = new Date().getTime();
                const signature = btoa(unescape(encodeURIComponent(`host=spark-api.xf-yun.com&date=${timestamp}&authorization=${btoa(`${APIKey}:${timestamp}`)}`)));
                
                // 发送请求
                const response = await axios.post(
                    "https://spark-api.xf-yun.com/v1.1/chat",
                    {
                        header: {
                            app_id: APPID,
                            uid: "123456" // 随便填一个固定值即可
                        },
                        parameter: {
                            chat: {
                                domain: "general",
                                temperature: 0.7,
                                max_tokens: 2048
                            }
                        },
                        payload: {
                            message: {
                                text: [{ role: "user", content: input }]
                            }
                        }
                    },
                    {
                        headers: {
                            "Content-Type": "application/json",
                            "X-Appid": APPID,
                            "X-CurTime": timestamp,
                            "X-Signature": signature
                        }
                    }
                );

                // 显示AI回复
                const aiReply = response.data.payload.choices.text[0].content;
                chatHistory.innerHTML += `<div class="message ai-message">${aiReply}</div>`;
                // 滚动到最新消息
                chatHistory.scrollTop = chatHistory.scrollHeight;
            } catch (error) {
                chatHistory.innerHTML += `<div class="message ai-message">抱歉，接口调用失败，请稍后再试</div>`;
                console.error(error);
            }
        }

        // 按回车发送消息
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
